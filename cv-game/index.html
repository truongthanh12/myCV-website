<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy game by key code</title>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="main.js">
    <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" /> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>

<body>
    <div id="animatedBackground">
        <div class="time flex" style="font-size: 36px">
            <p class="day"></p>
            <p class="hour"></p>
            <p class="minute"></p>
            <p class="second"></p>
        </div>
        <div class="guide guide--channel-tip">
            <div class="guide-wrapper flex">
                <p class="text">
                    Vui lòng dùng <strong>-></strong> <i class="fas fa-arrow-alt-circle-right"></i> hoặc <span class="spacing"></span> để di
                    chuyển <strong>Penguin</strong> về phía phải, và dùng <strong><-</strong> để di chuyển <strong>Penguin</strong> về phía
                    ngược lại.
                </p>
                <div class="close" onclick="guideNone()">X</div>
            </div>

        </div>

        <div class="key-code">
            <div class="slide-penguin">
                <div class="penguin">
                    <div class="penguin-bottom">
                        <div class="right-hand"></div>
                        <div class="left-hand"></div>
                        <div class="right-feet"></div>
                        <div class="left-feet"></div>
                    </div>
                    <div class="penguin-top">
                        <div class="right-cheek"></div>
                        <div class="left-cheek"></div>
                        <div class="belly"></div>
                        <div class="right-eye">
                            <div class="sparkle"></div>
                        </div>
                        <div class="left-eye">
                            <div class="sparkle"></div>
                        </div>
                        <div class="blush-right"></div>
                        <div class="blush-left"></div>
                        <div class="beak-top"></div>
                        <div class="beak-bottom"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="block-in-touch" style="position: absolute; top: 50%; left: 1320px;">
            <span style="color: #fff">Cham vao day</span>
        </div>
        <div class="modal" style="z-index: 1;" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        ...
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
    integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
    integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
    crossorigin="anonymous"></script>
<script>
    // (window.pageYOffset >= sticky



    window.addEventListener("keydown", (e) => {
        function addSlideBackground() {
            document.getElementById("animatedBackground").style.animation = "animatedBackground 100s linear infinite";
        }

        var getClassStation1 = document.getElementsByClassName("block-in-touch")[0]
        var checkOffsetSticky = getClassStation1.offsetLeft;
        console.log(checkOffsetSticky);

        let circle = document.querySelector(".penguin");
        let moveBy = 40;
console.log(circle)
        window.addEventListener("load", () => {
            circle.style.position = "absolute";
            circle.style.left = 100 + "px";
        });

        //get width penguin
        let widthPeguin = document.getElementsByClassName("penguin")[0];
        let offsetPeguin = widthPeguin.offsetLeft;

        console.log(checkOffsetSticky, offsetPeguin)

        if (offsetPeguin > checkOffsetSticky - 100) {
            document.getElementsByClassName("modal")[0].style.display = "block"
            return;
        }

        function addClassAnimate() {
            document.getElementsByClassName("right-feet")[0].classList.add("right-feet-animate");
            document.getElementsByClassName("left-feet")[0].classList.add("left-feet-animate");
            document.getElementsByClassName("left-hand")[0].classList.add("right-hand-animate");
            document.getElementsByClassName("right-hand")[0].classList.add("right-hand-animate");
        }
        function removeClassAnimate() {
            document.getElementsByClassName("right-feet")[0].classList.remove("right-feet-animate");
            document.getElementsByClassName("left-feet")[0].classList.remove("left-feet-animate");
            document.getElementsByClassName("left-hand")[0].classList.remove("right-hand-animate");
            document.getElementsByClassName("right-hand")[0].classList.remove("right-hand-animate");
        }
        switch (e.key) {
            case "ArrowLeft":
                if (parseInt(circle.style.left) - moveBy > 100) {
                    circle.style.left = parseInt(circle.style.left) - moveBy + "px";
                    setTimeout(addSlideBackground, 350)
                    setTimeout(addClassAnimate, 350)
                    setTimeout(removeClassAnimate, 650)
                }
                break;
            case "ArrowRight":
                // console.log(parseInt(circle.style.left) , moveBy , totalWPeguin, parseInt(circle.style.left) + moveBy + totalWPeguin)
                // if (window.innerWidth - (parseInt(circle.style.left) + moveBy) > 200) {
                circle.style.left = parseInt(circle.style.left) + moveBy + "px";

                setTimeout(addSlideBackground, 350)
                setTimeout(addClassAnimate, 350)
                setTimeout(removeClassAnimate, 650)
                // }
                break;

            // case "ArrowUp":
            //     circle.style.top = parseInt(circle.style.top) - moveBy + "px";
            //     break;
            // case "ArrowDown":
            //     circle.style.top = parseInt(circle.style.top) + moveBy + "px";
            //     break;
        }

        if (e.keyCode == '32') {
            if (window.innerWidth - (parseInt(circle.style.left) + moveBy) > 200) {
                circle.style.left = parseInt(circle.style.left) + moveBy + "px";
            }
        }
    });


    // none guide X 
    function guideNone() {
        document.getElementsByClassName("guide")[0].style.display = "none";
    }


    // /get time
    setInterval(() => {
        const countDay = new Date("Aug 12, 2022 00:00:00").getTime()
        const now = new Date().getTime();
        const gap = countDay - now

        // time work 
        const second = 1000
        const minute = second * 60
        const hour = minute * 60
        const day = hour * 24

        // calculate 
        const textDay = Math.floor(gap / day)
        document.getElementsByClassName("day")[0].innerText = textDay + "Days"
        const textHour = Math.floor((gap % day) / hour)
        document.getElementsByClassName("hour")[0].innerText = textHour + "Hours"
        const textminute = Math.floor((gap % hour) / minute)
        document.getElementsByClassName("minute")[0].innerText = textminute + "Minutes"
        const textSecond = Math.floor((gap % minute) / second)
        document.getElementsByClassName("second")[0].innerText = textSecond + "Seconds"
        return () => {
            clearInterval()
        }
    }, 1000)
</script>

</html>